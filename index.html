<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TrendToLife</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .top-bar,
    .bottom-bar {
      background-color: black;
      color: white;
      width: 100%;
      padding: 1rem;
    }

    .top-bar {
      font-size: 2rem;
      font-weight: bold;
      text-align: center;
      position: relative;
    }

    /* Socials and Cart Button in top bar */
    .socials-cart {
      position: absolute;
      top: 50%;
      right: 1rem;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .social-btn {
      width: 28px;
      height: 28px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
    }
    .social-btn svg {
      width: 20px;
      height: 20px;
    }
    .social-twitter {
      background: #1da1f2;
    }
    .social-instagram {
      background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285aeb 90%);
    }
    .social-youtube {
      background: #ff0000;
    }
    .social-tiktok {
      background: #000;
      position: relative;
    }
    .social-tiktok svg path:nth-child(1) {
      fill: #69c9d0;
    }
    .social-tiktok svg path:nth-child(2) {
      fill: #ee1d52;
    }
    .social-tiktok svg path:nth-child(3) {
      fill: #fff;
    }

    /* Cart button */
    #openCartBtn {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1rem;
      margin-left: 10px;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #openCartBtn:hover {
      background-color: #0056b3;
    }

    .content {
      flex: 1;
      padding: 2rem;
      max-width: 900px;
      margin: 0 auto;
    }

    .product {
      border: 1px solid #ddd;
      padding: 1rem;
      margin-bottom: 1.5rem;
      position: relative;
      border-radius: 6px;
    }

    .product h3 {
      margin-bottom: 0.3rem;
      font-weight: 600;
      font-size: 1.2rem;
    }

    .product p.price {
      font-weight: bold;
      margin-bottom: 0.7rem;
      color: #444;
    }

    /* Black button above add to cart */
    .info-btn {
      background-color: black;
      color: white;
      width: 100%;
      padding: 7px;
      border: none;
      border-radius: 4px;
      margin-bottom: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      user-select: none;
    }
    .info-btn:hover {
      background-color: #222;
    }

    .add-cart-btn {
      background-color: #007bff;
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      font-size: 1rem;
      font-weight: 600;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    .add-cart-btn:hover {
      background-color: #0056b3;
    }

    /* Info box that appears when info button clicked */
    .info-box {
      background-color: white;
      border: 1px solid black;
      padding: 10px;
      margin-top: 6px;
      border-radius: 4px;
      font-size: 0.9rem;
      display: none;
      color: #000;
    }

    /* Cart panel sliding */
    #cartPanel {
      position: fixed;
      top: 0;
      right: -380px;
      width: 350px;
      height: 100vh;
      background-color: #f9f9f9;
      box-shadow: -3px 0 10px rgba(0, 0, 0, 0.15);
      transition: right 0.3s ease;
      display: flex;
      flex-direction: column;
      z-index: 1000;
      padding: 1rem;
      overflow-y: auto;
    }
    #cartPanel.open {
      right: 0;
    }

    #closeCartBtn {
      background: none;
      border: none;
      font-size: 1.6rem;
      font-weight: bold;
      cursor: pointer;
      align-self: flex-start;
      margin-bottom: 1rem;
      user-select: none;
    }

    #cartItems {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 1rem;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ddd;
      padding: 8px 0;
    }

    .cart-item-name {
      flex: 1;
      font-weight: 600;
      font-size: 1rem;
    }
    .cart-item-quantity {
      margin: 0 10px;
      font-size: 0.9rem;
    }
    .cart-item-price {
      font-weight: 600;
      font-size: 1rem;
      min-width: 60px;
      text-align: right;
    }

    /* Trash button */
    .trash-btn {
      background: transparent;
      border: none;
      cursor: pointer;
      color: #cc0000;
      font-size: 1.1rem;
      margin-left: 6px;
      user-select: none;
    }
    .trash-btn:hover {
      color: #ff0000;
    }

    /* Discount code area */
    #discountArea {
      margin-bottom: 1rem;
    }
    #discountCodeInput {
      width: 60%;
      padding: 6px 8px;
      font-size: 1rem;
      border: 1px solid #aaa;
      border-radius: 4px;
      margin-right: 8px;
    }
    #applyDiscountBtn {
      background-color: #007bff;
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 4px;
      font-weight: 600;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #applyDiscountBtn:hover {
      background-color: #0056b3;
    }

    /* Totals */
    #totalCost, #youSaved {
      font-weight: 700;
      margin-top: 0.6rem;
      font-size: 1.1rem;
      color: #222;
    }
    #youSaved {
      color: green;
      margin-bottom: 1rem;
      display: none;
    }

    /* Contact bottom bar */
    .bottom-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.75rem;
      position: relative;
    }

    #contactSection {
      display: flex;
      align-items: center;
      cursor: pointer;
      user-select: none;
      gap: 6px;
      color: white;
    }
    #contactSection:hover {
      text-decoration: underline;
    }
    #contactInfoBox {
      position: absolute;
      bottom: 35px;
      left: 10px;
      background: white;
      color: black;
      border: 1px solid black;
      padding: 10px;
      border-radius: 4px;
      width: 300px;
      display: none;
      font-size: 0.9rem;
      z-index: 500;
    }
    #contactInfoBox.show {
      display: block;
    }

    /* Gmail icon */
    .gmail-icon {
      width: 22px;
      height: 22px;
      fill: #d44638;
      user-select: none;
    }

    /* Login Modal */
    #loginModal {
      display: none;
      position: fixed;
      z-index: 1500;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
    }
    #loginModal[aria-hidden="false"] {
      display: flex;
    }
    #loginModalContent {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      width: 320px;
      max-width: 90%;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      position: relative;
      font-family: Arial, sans-serif;
    }

    #closeLoginModal {
      position: absolute;
      top: 8px;
      right: 12px;
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      user-select: none;
    }

    #loginModalContent h2 {
      margin-bottom: 1rem;
      font-weight: 700;
      font-size: 1.5rem;
      text-align: center;
    }

    #loginModalContent input[type="text"],
    #loginModalContent input[type="password"] {
      width: 100%;
      padding: 8px 10px;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }

    #loginModalContent button {
      width: 100%;
      padding: 8px;
      background-color: #007bff;
      border: none;
      color: white;
      font-weight: 700;
      border-radius: 4px;
      cursor: pointer;
      user-select: none;
      font-size: 1rem;
    }
    #loginModalContent button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

  <div class="top-bar" role="banner" aria-label="Site header">
    TrendToLife

    <div class="socials-cart">
      <!-- Social buttons -->
      <a href="#" aria-label="Twitter" class="social-btn social-twitter" target="_blank" rel="noopener noreferrer" id="twitterLink" tabindex="0">
        <svg viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M23 3a10.9 10.9 0 01-3.14.86 5.48 5.48 0 002.4-3.03 10.86 10.86 0 01-3.48 1.33 5.43 5.43 0 00-9.27 4.95 15.42 15.42 0 01-11.2-5.68 5.43 5.43 0 001.69 7.25A5.39 5.39 0 012 7.69v.07a5.43 5.43 0 004.36 5.32 5.48 5.48 0 01-2.45.09 5.44 5.44 0 005.08 3.77A10.9 10.9 0 013 19.54 10.9 10.9 0 011 19.43a15.38 15.38 0 008.34 2.44c10.01 0 15.49-8.3 15.49-15.49 0-.24 0-.48-.02-.71A11.06 11.06 0 0023 3z"/></svg>
      </a>

      <a href="#" aria-label="Instagram" class="social-btn social-instagram" target="_blank" rel="noopener noreferrer" id="instagramLink" tabindex="0">
        <svg viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M7.75 2h8.5A5.75 5.75 0 0122 7.75v8.5A5.75 5.75 0 0116.25 22h-8.5A5.75 5.75 0 012 16.25v-8.5A5.75 5.75 0 017.75 2zm0 2A3.75 3.75 0 004 7.75v8.5A3.75 3.75 0 007.75 20h8.5A3.75 3.75 0 0020 16.25v-8.5A3.75 3.75 0 0016.25 4h-8.5zm8.25 1.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-4.25 2a4.5 4.5 0 11.001 9.001A4.5 4.5 0 0111.75 9.75z"/></svg>
      </a>

      <a href="#" aria-label="YouTube" class="social-btn social-youtube" target="_blank" rel="noopener noreferrer" id="youtubeLink" tabindex="0">
        <svg viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M10 15l5.19-3L10 9v6z"/><path d="M21.8 8s-.2-1.4-.8-2a3.35 3.35 0 00-2.4-1.7C16.7 4 12 4 12 4s-4.7 0-6.6.3a3.35 3.35 0 00-2.4 1.7c-.6.6-.8 2-.8 2S2 9.6 2 11.2v1.6c0 1.6.2 3.2.2 3.2s.2 1.4.8 2a3.3 3.3 0 002.4 1.7c1.9.3 6.6.3 6.6.3s4.7 0 6.6-.3a3.3 3.3 0 002.4-1.7c.6-.6.8-2 .8-2s.2-1.6.2-3.2v-1.6c0-1.6-.2-3.2-.2-3.2z"/></svg>
      </a>

      <a href="#" aria-label="TikTok" class="social-btn social-tiktok" target="_blank" rel="noopener noreferrer" id="tiktokLink" tabindex="0">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path d="M9 4h3a4 4 0 004 4v3a7 7 0 11-7-7z"/>
          <path d="M14 11v9a2 2 0 01-2-2v-6z" fill="#69c9d0"/>
          <path d="M14 11h3a2 2 0 01-2-2v-3z" fill="#ee1d52"/>
          <path d="M9 4v3a4 4 0 004 4v-3a7 7 0 01-7-7z" fill="#fff"/>
        </svg>
      </a>

      <button id="openCartBtn" aria-label="Open Cart">Cart</button>
    </div>
  </div>

  <main class="content" role="main" aria-label="Product listings">

    <!-- Example products -->
    <div class="product" data-id="1" data-name="Stylish Watch" data-price="79.99">
      <button class="info-btn" aria-expanded="false" aria-controls="info1">More Info</button>
      <div class="info-box" id="info1">This stylish watch features a sleek design and water resistance.</div>
      <h3>Stylish Watch</h3>
      <p class="price">$79.99</p>
      <button class="add-cart-btn" aria-label="Add Stylish Watch to cart">Add to Cart</button>
    </div>

    <div class="product" data-id="2" data-name="Cool Sneakers" data-price="59.99">
      <button class="info-btn" aria-expanded="false" aria-controls="info2">More Info</button>
      <div class="info-box" id="info2">Comfortable and trendy sneakers perfect for daily wear.</div>
      <h3>Cool Sneakers</h3>
      <p class="price">$59.99</p>
      <button class="add-cart-btn" aria-label="Add Cool Sneakers to cart">Add to Cart</button>
    </div>

    <div class="product" data-id="3" data-name="Wireless Earbuds" data-price="39.99">
      <button class="info-btn" aria-expanded="false" aria-controls="info3">More Info</button>
      <div class="info-box" id="info3">High-quality wireless earbuds with noise cancellation.</div>
      <h3>Wireless Earbuds</h3>
      <p class="price">$39.99</p>
      <button class="add-cart-btn" aria-label="Add Wireless Earbuds to cart">Add to Cart</button>
    </div>

  </main>

  <div id="cartPanel" aria-label="Shopping cart" role="region" aria-hidden="true">
    <button id="closeCartBtn" aria-label="Close Cart">&lt;</button>

    <div id="cartItems" aria-live="polite" aria-relevant="additions removals"></div>

    <div id="discountArea">
      <input type="text" id="discountCodeInput" placeholder="Discount Code" aria-label="Discount Code Input" />
      <button id="applyDiscountBtn" aria-label="Apply Discount Code">Apply</button>
    </div>

    <div id="totalCost">Total Cost: $0.00</div>
    <div id="youSaved">You saved: $0.00</div>

    <button id="continuePaymentBtn" aria-label="Continue to Payment">Continue to Payment</button>
  </div>

  <div class="bottom-bar">
    <div id="contactSection" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-controls="contactInfoBox">
      <svg class="gmail-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 18V8l8 5 8-5v10H4z"/>
      </svg>
      <span>Contact</span>
    </div>
    <div id="contactInfoBox" role="dialog" aria-modal="true" aria-labelledby="contactSection">
      for questions or refunds,<br />
      trendtolife.co@gmail.com
    </div>
  </div>

  <!-- Login modal -->
  <div id="loginModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="loginTitle" tabindex="-1">
    <div id="loginModalContent">
      <button id="closeLoginModal" aria-label="Close Login">&times;</button>
      <h2 id="loginTitle">Login</h2>
      <input type="text" placeholder="Username" aria-label="Username" />
      <input type="password" placeholder="Password" aria-label="Password" />
      <button id="loginSubmitBtn">Login</button>
    </div>
  </div>

  <script>
    const cartPanel = document.getElementById('cartPanel');
    const openCartBtn = document.getElementById('openCartBtn');
    const closeCartBtn = document.getElementById('closeCartBtn');
    const cartItemsContainer = document.getElementById('cartItems');
    const discountInput = document.getElementById('discountCodeInput');
    const applyDiscountBtn = document.getElementById('applyDiscountBtn');
    const totalCostEl = document.getElementById('totalCost');
    const youSavedEl = document.getElementById('youSaved');
    const continuePaymentBtn = document.getElementById('continuePaymentBtn');

    const infoButtons = document.querySelectorAll('.info-btn');

    // Contact section
    const contactSection = document.getElementById('contactSection');
    const contactInfoBox = document.getElementById('contactInfoBox');

    // Login modal elements
    const loginModal = document.getElementById('loginModal');
    const closeLoginModalBtn = document.getElementById('closeLoginModal');
    const loginSubmitBtn = document.getElementById('loginSubmitBtn');

    // Products data from DOM
    const products = Array.from(document.querySelectorAll('.product')).map(p => ({
      id: p.dataset.id,
      name: p.dataset.name,
      price: parseFloat(p.dataset.price),
      element: p
    }));

    // Cart structure: { productId: {product, quantity} }
    let cart = {};
    let discount = 0;

    function updateCartUI() {
      cartItemsContainer.innerHTML = '';

      let total = 0;
      for (const id in cart) {
        const item = cart[id];
        const itemTotalPrice = item.product.price * item.quantity;
        total += itemTotalPrice;

        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';

        const name = document.createElement('div');
        name.className = 'cart-item-name';
        name.textContent = item.product.name;

        const qty = document.createElement('div');
        qty.className = 'cart-item-quantity';
        qty.textContent = `x${item.quantity}`;

        const price = document.createElement('div');
        price.className = 'cart-item-price';
        price.textContent = `$${itemTotalPrice.toFixed(2)}`;

        const trashBtn = document.createElement('button');
        trashBtn.className = 'trash-btn';
        trashBtn.setAttribute('aria-label', `Remove ${item.product.name} from cart`);
        trashBtn.textContent = '🗑️';
        trashBtn.addEventListener('click', () => {
          removeFromCart(item.product.id);
        });

        cartItem.appendChild(name);
        cartItem.appendChild(qty);
        cartItem.appendChild(price);
        cartItem.appendChild(trashBtn);

        cartItemsContainer.appendChild(cartItem);
      }

      if (total === 0) {
        totalCostEl.textContent = 'Total Cost: $0.00';
        youSavedEl.style.display = 'none';
      } else {
        const saved = total * discount;
        const discountedTotal = total - saved;
        totalCostEl.textContent = `Total Cost: $${discountedTotal.toFixed(2)}`;
        if (discount > 0) {
          youSavedEl.style.display = 'block';
          youSavedEl.textContent = `You saved: $${saved.toFixed(2)}`;
        } else {
          youSavedEl.style.display = 'none';
        }
      }
    }

    function addToCart(productId) {
      if (cart[productId]) {
        cart[productId].quantity++;
      } else {
        const product = products.find(p => p.id === productId);
        cart[productId] = { product, quantity: 1 };
      }
      updateCartUI();
    }

    function removeFromCart(productId) {
      if (cart[productId]) {
        delete cart[productId];
        updateCartUI();
      }
    }

    // Toggle info box
    infoButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const controlsId = btn.getAttribute('aria-controls');
        const infoBox = document.getElementById(controlsId);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', !expanded);
        if (infoBox.style.display === 'block') {
          infoBox.style.display = 'none';
        } else {
          infoBox.style.display = 'block';
        }
      });
    });

    // Add to cart button listeners
    const addCartButtons = document.querySelectorAll('.add-cart-btn');
    addCartButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        const productEl = e.target.closest('.product');
        const productId = productEl.dataset.id;
        addToCart(productId);
        openCartPanel();
      });
    });

    // Cart panel open/close
    function openCartPanel() {
      cartPanel.classList.add('open');
      cartPanel.setAttribute('aria-hidden', 'false');
    }
    function closeCartPanel() {
      cartPanel.classList.remove('open');
      cartPanel.setAttribute('aria-hidden', 'true');
    }

    openCartBtn.addEventListener('click', openCartPanel);
    closeCartBtn.addEventListener('click', closeCartPanel);

    // Discount code logic (only "RETAIL25" is valid for 25% off)
    applyDiscountBtn.addEventListener('click', () => {
      const code = discountInput.value.trim().toUpperCase();
      if (code === 'RETAIL25') {
        discount = 0.25;
        alert('Discount applied: 25% off!');
      } else {
        discount = 0;
        alert('Invalid discount code.');
      }
      updateCartUI();
    });

    // Contact section toggle
    contactSection.addEventListener('click', () => {
      const expanded = contactSection.getAttribute('aria-expanded') === 'true';
      contactSection.setAttribute('aria-expanded', !expanded);
      contactInfoBox.style.display = contactInfoBox.style.display === 'block' ? 'none' : 'block';
    });
    contactSection.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        contactSection.click();
      }
    });

    // Login modal open/close
    const loginBtn = document.getElementById('loginBtn');
    if (loginBtn) {
      loginBtn.addEventListener('click', () => {
        loginModal.style.display = 'block';
        loginModal.setAttribute('aria-hidden', 'false');
      });
    }
    closeLoginModalBtn.addEventListener('click', () => {
      loginModal.style.display = 'none';
      loginModal.setAttribute('aria-hidden', 'true');
    });

  </script>
</body>
</html>
