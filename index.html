<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TrendToLife</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: black;
      color: white;
      font-weight: bold;
      font-size: 2rem;
      text-align: center;
      padding: 1rem;
    }
    main {
      flex: 1;
      padding: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .product {
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 1rem;
      width: 250px;
      position: relative;
      box-sizing: border-box;
    }
    .info-btn {
      background: black;
      color: white;
      border: none;
      width: 100%;
      padding: 0.5rem;
      cursor: pointer;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .info-box {
      display: none;
      background: #f9f9f9;
      border: 1px solid #ddd;
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      white-space: normal;
      word-wrap: break-word;
      max-width: 100%;
      box-sizing: border-box;
      border-radius: 4px;
    }
    h3 {
      margin: 0.5rem 0;
    }
    .price {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    .add-cart-btn {
      background: #007bff;
      color: white;
      border: none;
      width: 100%;
      padding: 0.5rem;
      font-weight: bold;
      cursor: pointer;
      border-radius: 4px;
    }
    #cartPanel {
      position: fixed;
      top: 0;
      right: -320px;
      width: 320px;
      height: 100%;
      background: #fff;
      box-shadow: -3px 0 6px rgba(0,0,0,0.3);
      overflow-y: auto;
      transition: right 0.3s ease;
      padding: 1rem;
      box-sizing: border-box;
      z-index: 1000;
    }
    #cartPanel.open {
      right: 0;
    }
    #closeCartBtn {
      background: none;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      margin-bottom: 1rem;
    }
    #cartItems {
      max-height: 60vh;
      overflow-y: auto;
      margin-bottom: 1rem;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
      border-bottom: 1px solid #eee;
      padding-bottom: 0.25rem;
    }
    .cart-item-name {
      flex: 1;
      margin-right: 0.5rem;
    }
    .cart-item-quantity {
      margin-right: 0.5rem;
    }
    .cart-item-price {
      margin-right: 0.5rem;
      font-weight: bold;
    }
    .trash-btn {
      background: none;
      border: none;
      cursor: pointer;
      color: red;
      font-size: 1.2rem;
      line-height: 1;
    }
    #discountArea {
      display: flex;
      margin-bottom: 1rem;
    }
    #discountCodeInput {
      flex: 1;
      padding: 0.4rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px 0 0 4px;
      outline-offset: 2px;
    }
    #applyDiscountBtn {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.4rem 0.75rem;
      cursor: pointer;
      border-radius: 0 4px 4px 0;
      font-weight: bold;
    }
    #youSaved {
      font-weight: bold;
      color: green;
      margin-bottom: 0.25rem;
      display: none;
    }
    #totalCost {
      font-weight: bold;
      margin-bottom: 1rem;
    }
    #continuePaymentBtn {
      background: #007bff;
      color: white;
      border: none;
      width: 100%;
      padding: 0.75rem;
      cursor: pointer;
      font-weight: bold;
      border-radius: 4px;
    }
    .bottom-bar {
      background: black;
      color: white;
      padding: 0.5rem 1rem;
      font-size: 0.75rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 1100;
    }
    .gmail-icon {
      width: 18px;
      height: 18px;
      vertical-align: middle;
      fill: white;
      margin-right: 6px;
    }
    #contactSection {
      cursor: pointer;
      display: flex;
      align-items: center;
      user-select: none;
    }
    #contactInfoBox {
      position: absolute;
      bottom: 30px;
      left: 10px;
      background: white;
      color: black;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      display: none;
      white-space: nowrap;
      font-size: 0.85rem;
    }
    /* Social icons top right next to cart */
    #topBarExtras {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      gap: 0.75rem;
      align-items: center;
    }
    #cartToggleBtn {
      background: #007bff;
      border: none;
      color: white;
      padding: 0.5rem 1rem;
      font-weight: bold;
      cursor: pointer;
      border-radius: 4px;
      margin-left: 1rem;
    }
    .social-icon {
      width: 24px;
      height: 24px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .social-icon:hover {
      transform: scale(1.1);
    }
    /* Individual social colors */
    .twitter { fill: #1DA1F2; }
    .instagram { fill: #E1306C; }
    .youtube { fill: #FF0000; }
    .tiktok { fill: #000000; } /* We'll fix TikTok icon to black */
  </style>
</head>
<body>

<header>
  TrendToLife
  <div id="topBarExtras" aria-label="Social and cart controls">
    <svg tabindex="0" role="link" aria-label="Twitter" class="social-icon twitter" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M23.954 4.569a10 10 0 01-2.825.775 4.932 4.932 0 002.163-2.724c-.951.555-2.005.959-3.127 1.184a4.916 4.916 0 00-8.379 4.482A13.955 13.955 0 011.671 3.149a4.917 4.917 0 001.523 6.574 4.9 4.9 0 01-2.228-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 01-2.224.085 4.92 4.92 0 004.6 3.417 9.865 9.865 0 01-6.102 2.105c-.398 0-.79-.023-1.175-.068a13.945 13.945 0 007.548 2.209c9.056 0 14.004-7.5 14.004-14.004 0-.213-.005-.425-.014-.636A10.012 10.012 0 0024 4.59z"/>
    </svg>

    <svg tabindex="0" role="link" aria-label="Instagram" class="social-icon instagram" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M7.75 2h8.5A5.75 5.75 0 0122 7.75v8.5A5.75 5.75 0 0116.25 22h-8.5A5.75 5.75 0 012 16.25v-8.5A5.75 5.75 0 017.75 2zm0 1.5A4.25 4.25 0 003.5 7.75v8.5A4.25 4.25 0 007.75 20.5h8.5a4.25 4.25 0 004.25-4.25v-8.5a4.25 4.25 0 00-4.25-4.25h-8.5zM12 7a5 5 0 110 10 5 5 0 010-10zm0 1.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7zm4.75-.88a1.125 1.125 0 110 2.25 1.125 1.125 0 010-2.25z"/>
    </svg>

    <svg tabindex="0" role="link" aria-label="YouTube" class="social-icon youtube" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path d="M23.498 6.186a2.927 2.927 0 00-2.06-2.066C19.536 3.5 12 3.5 12 3.5s-7.536 0-9.438.62a2.927 2.927 0 00-2.06 2.066A30.182 30.182 0 000 12a30.182 30.182 0 00.502 5.814 2.927 2.927 0 002.06 2.066C4.464 20.5 12 20.5 12 20.5s7.536 0 9.438-.62a2.927 2.927 0 002.06-2.066A30.182 30.182 0 0024 12a30.182 30.182 0 00-.502-5.814zM9.75 15.02V8.98L15.5 12l-5.75 3.02z"/>
    </svg>

    <svg tabindex="0" role="link" aria-label="TikTok" class="social-icon tiktok" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <!-- TikTok official icon simplified -->
      <path d="M9 3v10.5a3.75 3.75 0 103.75 3.75v-7.5a4.5 4.5 0 01-3.75-6.75z" fill="#69C9D0"/>
      <path d="M15 3.75a4.5 4.5 0 01-4.5-4.5v12.75A6.75 6.75 0 1115 3.75z" fill="#000000"/>
    </svg>

    <button id="cartToggleBtn" aria-label="Toggle Cart">Cart</button>
  </div>
</header>

<main id="productsContainer" aria-label="Product listings">
  <!-- Products will be generated here -->
</main>

<div id="cartPanel" aria-hidden="true" aria-label="Shopping Cart">
  <button id="closeCartBtn" aria-label="Close Cart">&lt;</button>
  <div id="cartItems" aria-live="polite" aria-atomic="true"></div>

  <div id="discountArea">
    <input
      id="discountCodeInput"
      type="text"
      placeholder="Discount code"
      aria-label="Enter discount code"
    />
    <button id="applyDiscountBtn">Apply</button>
  </div>

  <div id="youSaved">You saved: $0.00</div>
  <div id="totalCost">Total cost: $0.00</div>
  <button id="continuePaymentBtn" aria-label="Continue to payment">Continue to Payment</button>
</div>

<footer class="bottom-bar">
  <div id="contactSection" role="button" tabindex="0" aria-expanded="false" aria-controls="contactInfoBox">
    <svg class="gmail-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.5l8-6V18a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-10l8 6zM12 11L4 5h16l-8 6z"/></svg>
    Contact
  </div>
  <div id="contactInfoBox" role="region" aria-live="polite" aria-atomic="true">
    For questions or refunds, trendtolife.co@gmail.com
  </div>
  <div>Â© 2025 TrendToLife. All rights reserved.</div>
</footer>

<script>
  // Sample products - you can replace with your own data
  const products = [
    {
      id: 'p1',
      name: 'Minimalist Watch',
      price: 149.99,
      info: 'Sleek design with leather strap. Water resistant.',
    },
    {
      id: 'p2',
      name: 'Modern Backpack',
      price: 89.99,
      info: 'Spacious and durable, perfect for everyday use.',
    },
    {
      id: 'p3',
      name: 'Wireless Earbuds',
      price: 59.99,
      info: 'Crystal clear sound and long battery life.',
    },
  ];

  const productsContainer = document.getElementById('productsContainer');
  const cartToggleBtn = document.getElementById('cartToggleBtn');
  const cartPanel = document.getElementById('cartPanel');
  const closeCartBtn = document.getElementById('closeCartBtn');
  const cartItemsContainer = document.getElementById('cartItems');
  const discountCodeInput = document.getElementById('discountCodeInput');
  const applyDiscountBtn = document.getElementById('applyDiscountBtn');
  const totalCostElem = document.getElementById('totalCost');
  const youSavedElem = document.getElementById('youSaved');
  const continuePaymentBtn = document.getElementById('continuePaymentBtn');

  const contactSection = document.getElementById('contactSection');
  const contactInfoBox = document.getElementById('contactInfoBox');

  let cart = {};
  let discount = 0;

  // Render products
  function renderProducts() {
    productsContainer.innerHTML = '';
    products.forEach(prod => {
      const prodEl = document.createElement('article');
      prodEl.className = 'product';
      prodEl.setAttribute('aria-label', `${prod.name}, price $${prod.price}`);

      prodEl.innerHTML = `
        <button class="info-btn" aria-expanded="false" aria-controls="info-${prod.id}" id="btn-${prod.id}">
          More Info
        </button>
        <div class="info-box" id="info-${prod.id}" role="region" aria-hidden="true">${prod.info}</div>
        <h3>${prod.name}</h3>
        <div class="price">$${prod.price.toFixed(2)}</div>
        <button class="add-cart-btn" aria-label="Add ${prod.name} to cart" data-id="${prod.id}">Add to Cart</button>
      `;

      productsContainer.appendChild(prodEl);
    });
  }

  // Toggle More Info
  productsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('info-btn')) {
      const btn = e.target;
      const infoBox = document.getElementById('info-' + btn.id.split('-')[1]);
      const expanded = btn.getAttribute('aria-expanded') === 'true';

      btn.setAttribute('aria-expanded', String(!expanded));
      infoBox.style.display = expanded ? 'none' : 'block';
      infoBox.setAttribute('aria-hidden', String(expanded));
    }
  });

  // Add to cart
  productsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('add-cart-btn')) {
      const prodId = e.target.getAttribute('data-id');
      if (cart[prodId]) {
        cart[prodId].quantity++;
      } else {
        const product = products.find(p => p.id === prodId);
        cart[prodId] = { ...product, quantity: 1 };
      }
      updateCartUI();
      openCart();
    }
  });

  // Open cart panel
  function openCart() {
    cartPanel.classList.add('open');
    cartPanel.setAttribute('aria-hidden', 'false');
  }
  // Close cart panel
  function closeCart() {
    cartPanel.classList.remove('open');
    cartPanel.setAttribute('aria-hidden', 'true');
  }

  cartToggleBtn.addEventListener('click', () => {
    if (cartPanel.classList.contains('open')) {
      closeCart();
    } else {
      openCart();
    }
  });
  closeCartBtn.addEventListener('click', closeCart);

  // Remove from cart
  cartItemsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('trash-btn')) {
      const prodId = e.target.getAttribute('data-id');
      if (cart[prodId]) {
        cart[prodId].quantity--;
        if (cart[prodId].quantity <= 0) {
          delete cart[prodId];
        }
        updateCartUI();
      }
    }
  });

  // Apply discount code
  applyDiscountBtn.addEventListener('click', () => {
    const code = discountCodeInput.value.trim().toUpperCase();
    if (code === 'RELEASE') {
      discount = 0.25;
      alert('Discount applied: 25% off!');
    } else {
      discount = 0;
      alert('Invalid discount code.');
    }
    updateCartUI();
  });

  // Update cart UI
  function updateCartUI() {
    cartItemsContainer.innerHTML = '';
    let subtotal = 0;

    Object.values(cart).forEach(item => {
      const itemTotal = item.price * item.quantity;
      subtotal += itemTotal;

      const itemEl = document.createElement('div');
      itemEl.className = 'cart-item';
      itemEl.innerHTML = `
        <div class="cart-item-name">${item.name}</div>
        <div class="cart-item-quantity">x${item.quantity}</div>
        <div class="cart-item-price">$${itemTotal.toFixed(2)}</div>
        <button class="trash-btn" aria-label="Remove one ${item.name}" data-id="${item.id}">&times;</button>
      `;
      cartItemsContainer.appendChild(itemEl);
    });

    if (subtotal === 0) {
      youSavedElem.style.display = 'none';
      totalCostElem.textContent = 'Total cost: $0.00';
      return;
    }

    if (discount > 0) {
      const savedAmount = subtotal * discount;
      youSavedElem.textContent = `You saved: $${savedAmount.toFixed(2)}`;
      youSavedElem.style.display = 'block';
      const discountedTotal = subtotal - savedAmount;
      totalCostElem.textContent = `Total cost: $${discountedTotal.toFixed(2)}`;
    } else {
      youSavedElem.style.display = 'none';
      totalCostElem.textContent = `Total cost: $${subtotal.toFixed(2)}`;
    }
  }

  // Continue payment - require login
  continuePaymentBtn.addEventListener('click', () => {
    alert('Please log in to continue to payment. (Login functionality coming soon)');
  });

  // Contact info toggle
  contactSection.addEventListener('click', () => {
    const expanded = contactSection.getAttribute('aria-expanded') === 'true';
    contactSection.setAttribute('aria-expanded', String(!expanded));
    contactInfoBox.style.display = expanded ? 'none' : 'block';
  });
  contactSection.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      contactSection.click();
    }
  });

  // Social icon clicks - placeholders
  document.querySelectorAll('.social-icon').forEach(icon => {
    icon.addEventListener('click', () => {
      alert(`Link to your ${icon.getAttribute('aria-label')} profile will be added.`);
    });
    icon.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        icon.click();
      }
    });
  });

  renderProducts();
  updateCartUI();
</script>

</body>
</html>
