<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TrendToLife</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: white;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Top bar */
    .top-bar {
      background: black;
      color: white;
      font-weight: bold;
      font-size: 2rem;
      text-align: center;
      padding: 1rem;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Social icons top right */
    .social-icons {
      position: absolute;
      right: 1rem;
      display: flex;
      gap: 0.5rem;
      top: 50%;
      transform: translateY(-50%);
    }
    .social-icons a {
      display: inline-block;
      width: 24px;
      height: 24px;
    }
    .social-icons svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    /* Content */
    .content {
      flex: 1;
      padding: 2rem;
      max-width: 900px;
      margin: 0 auto;
    }
    .product {
      border: 1px solid #ddd;
      padding: 1rem;
      margin-bottom: 2rem;
      border-radius: 6px;
      max-width: 400px;
    }
    .product img {
      width: 100%;
      height: auto;
      border-radius: 6px;
      margin-bottom: 0.5rem;
    }
    .product-name {
      font-weight: bold;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
    }
    .product-price {
      color: #007bff;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    .info-button {
      background: black;
      color: white;
      border: none;
      padding: 0.5rem;
      width: 100%;
      cursor: pointer;
      margin-bottom: 0.5rem;
      border-radius: 4px;
      font-size: 0.9rem;
    }
    .info-text {
      background: white;
      border: 1px solid #ddd;
      padding: 0.75rem;
      border-radius: 4px;
      margin-bottom: 1rem;
      display: none;
      font-size: 0.9rem;
      color: #333;
    }
    .add-to-cart {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.75rem;
      width: 100%;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
    }
    .add-to-cart:hover {
      background: #0056b3;
    }

    /* Cart slide panel */
    .cart-panel {
      position: fixed;
      top: 0;
      right: 0;
      width: 320px;
      height: 100vh;
      background: #f9f9f9;
      box-shadow: -3px 0 8px rgba(0,0,0,0.2);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
      z-index: 1000;
      padding: 1rem;
    }
    .cart-panel.open {
      transform: translateX(0);
    }
    .cart-header {
      font-weight: bold;
      font-size: 1.25rem;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .close-cart {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      font-weight: bold;
      color: #333;
    }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 1rem;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ddd;
      padding: 0.5rem 0;
      font-size: 0.95rem;
    }
    .cart-item-name {
      flex: 1;
    }
    .cart-item-qty {
      margin: 0 0.5rem;
    }
    .cart-item-price {
      font-weight: bold;
      color: #007bff;
      min-width: 60px;
      text-align: right;
    }
    .trash-btn {
      background: none;
      border: none;
      color: red;
      font-size: 1rem;
      cursor: pointer;
      margin-left: 0.5rem;
      font-weight: bold;
    }

    .discount-code-section {
      margin-bottom: 1rem;
    }
    .discount-code-section input {
      width: 60%;
      padding: 0.4rem 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-right: 0.5rem;
    }
    .discount-code-section button {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      cursor: pointer;
    }
    .discount-code-section button:hover {
      background: #0056b3;
    }

    .total-cost, .you-saved {
      font-weight: bold;
      font-size: 1rem;
      margin-bottom: 0.25rem;
      color: #222;
    }
    .you-saved {
      color: green;
    }

    .continue-payment {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.75rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      width: 100%;
    }
    .continue-payment:hover {
      background: #0056b3;
    }

    /* Bottom bar */
    .bottom-bar {
      background: black;
      color: white;
      font-size: 0.75rem;
      padding: 0.5rem 1rem;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: 0.5rem;
      max-width: 900px;
      margin: 0 auto 1rem auto;
      border-radius: 4px;
    }

    .bottom-contact {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      cursor: pointer;
    }
    .bottom-contact svg {
      width: 18px;
      height: 18px;
      fill: #D44638; /* Gmail Red */
    }
    .contact-info-box {
      position: fixed;
      bottom: 60px;
      right: 1rem;
      background: white;
      border: 1px solid #ddd;
      padding: 1rem;
      border-radius: 6px;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
      max-width: 250px;
      display: none;
      font-size: 0.9rem;
      color: #333;
      z-index: 1100;
    }

    /* Scrollbar for cart */
    .cart-items::-webkit-scrollbar {
      width: 8px;
    }
    .cart-items::-webkit-scrollbar-thumb {
      background-color: rgba(0,0,0,0.2);
      border-radius: 4px;
    }
  </style>
</head>
<body>

  <header class="top-bar">
    TrendToLife
    <div class="social-icons" aria-label="Social media links">
      <a href="#" title="Twitter" aria-label="Twitter" style="color:#1DA1F2;">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23.954 4.569a10 10 0 01-2.825.775 4.932 4.932 0 002.163-2.724 9.867 9.867 0 01-3.127 1.195 4.916 4.916 0 00-8.38 4.482A13.94 13.94 0 011.671 3.149a4.902 4.902 0 001.523 6.574 4.897 4.897 0 01-2.228-.616v.06a4.919 4.919 0 003.946 4.827 4.996 4.996 0 01-2.224.085 4.923 4.923 0 004.6 3.417 9.867 9.867 0 01-6.102 2.105c-.395 0-.779-.023-1.158-.067a13.945 13.945 0 007.548 2.209c9.142 0 14.307-7.721 14.307-14.415 0-.22-.005-.437-.015-.653A10.025 10.025 0 0024 4.59z"/></svg>
      </a>
      <a href="#" title="TikTok" aria-label="TikTok" style="color:#69C9D0;">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12.004 2.002v9.066a4.501 4.501 0 01-4.493-4.497h-2.006a6.507 6.507 0 006.5 6.5V2.002h-0.001z"/></svg>
      </a>
      <a href="#" title="Instagram" aria-label="Instagram" style="color:#E4405F;">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm10 2a3 3 0 100 6 3 3 0 000-6zM12 8a4 4 0 110 8 4 4 0 010-8z"/></svg>
      </a>
      <a href="#" title="YouTube" aria-label="YouTube" style="color:#FF0000;">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-1.158-.116-5.785-.116-5.785-.116s-4.627 0-5.785.116c-1.234.124-2.027 1.005-2.128 3.63-.116 2.949-.116 6.007-.116 6.007s0 3.058.116 6.007c.101 2.624.894 3.506 2.128 3.63 1.158.116 5.785.116 5.785.116s4.627 0 5.785-.116c1.234-.124 2.027-1.006 2.128-3.63.116-2.949.116-6.007.116-6.007s0-3.058-.116-6.007c-.101-2.625-.894-3.506-2.128-3.63zM10 15.5V8.5l5 3.5-5 3.5z"/></svg>
      </a>
    </div>
  </header>

  <main class="content">
    <!-- Products -->
    <div class="product" data-id="1" data-name="Cool Shirt" data-price="19.99" data-info="A stylish cool shirt made from organic cotton.">
      <img src="https://via.placeholder.com/400x300?text=Cool+Shirt" alt="Cool Shirt" />
      <div class="product-name">Cool Shirt</div>
      <div class="product-price">$19.99</div>
      <button class="info-button">More Info</button>
      <div class="info-text"></div>
      <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product" data-id="2" data-name="Trendy Sneakers" data-price="59.99" data-info="Lightweight sneakers with breathable fabric. Perfect for everyday wear.">
      <img src="https://via.placeholder.com/400x300?text=Trendy+Sneakers" alt="Trendy Sneakers" />
      <div class="product-name">Trendy Sneakers</div>
      <div class="product-price">$59.99</div>
      <button class="info-button">More Info</button>
      <div class="info-text"></div>
      <button class="add-to-cart">Add to Cart</button>
    </div>

    <div class="product" data-id="3" data-name="Stylish Hat" data-price="14.99" data-info="A stylish hat to complete your outfit. Adjustable fit for all sizes.">
      <img src="https://via.placeholder.com/400x300?text=Stylish+Hat" alt="Stylish Hat" />
      <div class="product-name">Stylish Hat</div>
      <div class="product-price">$14.99</div>
      <button class="info-button">More Info</button>
      <div class="info-text"></div>
      <button class="add-to-cart">Add to Cart</button>
    </div>

  </main>

  <!-- Cart Panel -->
  <aside class="cart-panel" aria-label="Shopping Cart" role="complementary">
    <div class="cart-header">
      Your Cart
      <button class="close-cart" aria-label="Close cart">&lt;</button>
    </div>

    <div class="cart-items" aria-live="polite"></div>

    <div class="discount-code-section">
      <input type="text" id="discountCodeInput" placeholder="Enter discount code" aria-label="Discount code input" />
      <button id="applyDiscountBtn">Apply Code</button>
    </div>

    <div class="you-saved" style="display:none;">You saved: $0.00</div>
    <div class="total-cost">Total cost: $0.00</div>

    <button class="continue-payment">Continue to Payment</button>
  </aside>

  <!-- Payment Modal -->
  <div id="paymentModal" aria-hidden="true" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.6); 
    display:flex; justify-content:center; align-items:center; z-index:10000;">
    <div style="background:#fff; padding:2rem; border-radius:8px; width:320px; max-width:90%;" role="dialog" aria-modal="true" aria-labelledby="paymentTitle">
      <h2 id="paymentTitle">Payment Details</h2>
      <label>
        Name on Card:<br />
        <input type="text" id="cardName" style="width:100%; padding:0.5rem; margin-top:0.25rem;" autocomplete="cc-name" />
      </label><br /><br />
      <label>
        Card Number:<br />
        <input type="text" id="cardNumber" maxlength="16" style="width:100%; padding:0.5rem; margin-top:0.25rem;" autocomplete="cc-number" />
      </label><br /><br />
      <label>
        Expiry Date:<br />
        <input type="text" id="cardExpiry" placeholder="MM/YY" maxlength="5" style="width:100%; padding:0.5rem; margin-top:0.25rem;" autocomplete="cc-exp" />
      </label><br /><br />
      <label>
        CVV:<br />
        <input type="password" id="cardCVV" maxlength="4" style="width:100%; padding:0.5rem; margin-top:0.25rem;" autocomplete="cc-csc" />
      </label><br /><br />
      <button id="payNowBtn" style="background:#007bff; color:#fff; border:none; padding:0.75rem 1rem; border-radius:4px; width:100%;">Pay Now</button>
      <button id="closePaymentBtn" style="margin-top:1rem; width:100%; padding:0.5rem; border:none; background:#ccc; border-radius:4px;">Cancel</button>
    </div>
  </div>

  <!-- Bottom Contact Bar -->
  <footer class="bottom-bar">
    <div class="bottom-contact" tabindex="0" role="button" aria-pressed="false" aria-label="Contact for questions or refunds">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="#D44638"/></svg>
      <span>Contact</span>
    </div>
  </footer>

  <div class="contact-info-box" role="alert" aria-live="polite">
    For questions or refunds, trendtolife.co@gmail.com
  </div>

  <script>
    // Products & Cart Data
    const products = [...document.querySelectorAll('.product')].map(prod => ({
      id: prod.dataset.id,
      name: prod.dataset.name,
      price: parseFloat(prod.dataset.price),
      info: prod.dataset.info,
      element: prod
    }));

    // Cart object with productId keys and qty
    let cart = {};

    // Discount info
    const discountCode = 'RELEASE';
    let discountActive = false;
    let discountPercent = 0.25; // 25%

    // Elements
    const cartPanel = document.querySelector('.cart-panel');
    const cartItemsDiv = document.querySelector('.cart-items');
    const closeCartBtn = document.querySelector('.close-cart');
    const discountInput = document.getElementById('discountCodeInput');
    const applyDiscountBtn = document.getElementById('applyDiscountBtn');
    const youSavedDiv = document.querySelector('.you-saved');
    const totalCostDiv = document.querySelector('.total-cost');
    const continuePaymentBtn = document.querySelector('.continue-payment');
    const paymentModal = document.getElementById('paymentModal');
    const payNowBtn = document.getElementById('payNowBtn');
    const closePaymentBtn = document.getElementById('closePaymentBtn');

    const contactBtn = document.querySelector('.bottom-contact');
    const contactInfoBox = document.querySelector('.contact-info-box');

    // Open cart panel function
    function openCart() {
      cartPanel.classList.add('open');
    }

    // Close cart panel function
    function closeCart() {
      cartPanel.classList.remove('open');
    }

    // Update cart display
    function updateCart() {
      cartItemsDiv.innerHTML = '';

      let total = 0;
      let savedAmount = 0;

      Object.keys(cart).forEach(id => {
        const product = products.find(p => p.id === id);
        const qty = cart[id];
        const price = product.price * qty;

        total += price;

        // Cart item element
        const itemDiv = document.createElement('div');
        itemDiv.className = 'cart-item';

        itemDiv.innerHTML = `
          <div class="cart-item-name">${product.name}</div>
          <div>
            Qty: <button aria-label="Decrease quantity" data-id="${id}" class="decrease-qty">-</button>
            <span class="cart-item-qty">${qty}</span>
            <button aria-label="Increase quantity" data-id="${id}" class="increase-qty">+</button>
            <button aria-label="Remove item" data-id="${id}" class="trash-btn">&times;</button>
          </div>
          <div class="cart-item-price">$${price.toFixed(2)}</div>
        `;

        cartItemsDiv.appendChild(itemDiv);
      });

      // Apply discount if active
      if (discountActive) {
        savedAmount = total * discountPercent;
        total = total - savedAmount;
        youSavedDiv.style.display = 'block';
        youSavedDiv.textContent = `You saved: $${savedAmount.toFixed(2)}`;
      } else {
        youSavedDiv.style.display = 'none';
      }

      totalCostDiv.textContent = `Total cost: $${total.toFixed(2)}`;

      // Disable payment if cart empty
      continuePaymentBtn.disabled = Object.keys(cart).length === 0;
      continuePaymentBtn.style.opacity = continuePaymentBtn.disabled ? '0.5' : '1';
    }

    // Add to cart handler
    function addToCart(id) {
      if (cart[id]) {
        cart[id]++;
      } else {
        cart[id] = 1;
      }
      updateCart();
      openCart();
    }

    // Remove from cart handler
    function removeFromCart(id) {
      delete cart[id];
      updateCart();
    }

    // Change qty handler
    function changeQty(id, amount) {
      if (!cart[id]) return;
      cart[id] += amount;
      if (cart[id] < 1) {
        removeFromCart(id);
      } else {
        updateCart();
      }
    }

    // Discount code apply
    function applyDiscount() {
      const code = discountInput.value.trim().toUpperCase();
      if (code === discountCode) {
        discountActive = true;
        alert('Discount code applied! 25% off your order.');
      } else {
        discountActive = false;
        alert('Invalid discount code.');
      }
      updateCart();
    }

    // Show/hide product info text
    document.querySelectorAll('.info-button').forEach(btn => {
      btn.addEventListener('click', () => {
        const productDiv = btn.closest('.product');
        const infoDiv = productDiv.querySelector('.info-text');
        if (infoDiv.style.display === 'block') {
          infoDiv.style.display = 'none';
          infoDiv.textContent = '';
          btn.textContent = 'More Info';
        } else {
          infoDiv.style.display = 'block';
          infoDiv.textContent = productDiv.dataset.info;
          btn.textContent = 'Less Info';
        }
      });
    });

    // Add to cart buttons
    document.querySelectorAll('.add-to-cart').forEach(btn => {
      btn.addEventListener('click', () => {
        const productDiv = btn.closest('.product');
        addToCart(productDiv.dataset.id);
      });
    });

    // Cart panel close
    closeCartBtn.addEventListener('click', closeCart);

    // Cart item qty buttons and remove
    cartItemsDiv.addEventListener('click', e => {
      if (e.target.classList.contains('increase-qty')) {
        const id = e.target.dataset.id;
        changeQty(id, 1);
      }
      if (e.target.classList.contains('decrease-qty')) {
        const id = e.target.dataset.id;
        changeQty(id, -1);
      }
      if (e.target.classList.contains('trash-btn')) {
        const id = e.target.dataset.id;
        removeFromCart(id);
      }
    });

    // Apply discount code button
    applyDiscountBtn.addEventListener('click', applyDiscount);

    // Continue to payment button
    continuePaymentBtn.addEventListener('click', () => {
      paymentModal.style.display = 'flex';
      paymentModal.setAttribute('aria-hidden', 'false');
    });

    // Close payment modal
    closePaymentBtn.addEventListener('click', () => {
      paymentModal.style.display = 'none';
      paymentModal.setAttribute('aria-hidden', 'true');
    });

    // Pay now button (basic validation)
    payNowBtn.addEventListener('click', () => {
      const name = document.getElementById('cardName').value.trim();
      const number = document.getElementById('cardNumber').value.trim();
      const expiry = document.getElementById('cardExpiry').value.trim();
      const cvv = document.getElementById('cardCVV').value.trim();

      if (!name || !number || !expiry || !cvv) {
        alert('Please fill all payment fields.');
        return;
      }
      if (number.length !== 16 || isNaN(number)) {
        alert('Please enter a valid 16-digit card number.');
        return;
      }
      if (!/^\d{2}\/\d{2}$/.test(expiry)) {
        alert('Please enter expiry in MM/YY format.');
        return;
      }
      if (cvv.length < 3 || cvv.length > 4 || isNaN(cvv)) {
        alert('Please enter a valid CVV.');
        return;
      }

      alert('Payment successful! Thank you for your purchase.');
      // Reset cart & close modal
      cart = {};
      discountActive = false;
      discountInput.value = '';
      updateCart();
      paymentModal.style.display = 'none';
      paymentModal.setAttribute('aria-hidden', 'true');
    });

    // Bottom contact click toggles contact info box
    contactBtn.addEventListener('click', () => {
      if (contactInfoBox.style.display === 'block') {
        contactInfoBox.style.display = 'none';
        contactBtn.setAttribute('aria-pressed', 'false');
      } else {
        contactInfoBox.style.display = 'block';
        contactBtn.setAttribute('aria-pressed', 'true');
      }
    });

    // Initialize cart display and disable payment if empty
    updateCart();

  </script>
</body>
</html>
